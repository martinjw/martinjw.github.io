<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>The JSON request was too large to be deserialized.</title>
<link rel="stylesheet" type="text/css" href="../../../../style.css" />
<script type="text/javascript" src="../../../../utilities.js">
</script>
</head>
<body>
<h1>static void</h1>
<div class="menu">
<ul>
<li><a href="../../../../index.html">About</a></li>
<li><a href="../../../index.html">Blog</a></li>
</ul>
</div>
<div class="content">
<h2>The JSON request was too large to be deserialized.</h2>
<p>Published Thursday 08 August 2013</p><article>

<p>I hit this error when a json client was calling an ASP MVC controller to get Json.</p>
<p><code><font color="#FF0000" face="Courier New"><span class="typ">Exception</span><span class="pln"> </span><span class="typ">Details</span><span class="pun">:</span><span class="pln"> </span><span class="typ">System</span><span class="pun">.</span><span class="typ">InvalidOperationException</span><span class="pun">:</span><span class="pln"> </span><span class="typ">The</span><span class="pln"> JSON request was too large to be deserialized</span><span class="pun">.</span></font><span class="pln">
</span></code></p>
<p>The posted JSON is large, but not the default maximum of 4Mb.</p>
<p>There is a .Net security fix (<a href="https://support.microsoft.com/en-us/kb/2661403">http://support.microsoft.com/kb/2661403</a>):</p><blockquote>
<p><code><span class="pln">Microsoft security update MS11-100 limits the maximum number of form keys, files, and JSON members to 1000 in an HTTP request. </span></code></p></blockquote>
<p><code><span class="pln"></span></code></p>
<p>You can bypass this (at the risk of Denial of service) with an appSetting in web.config:</p>
<p><code><span class="pln"></span></code></p><pre style="" class="lang-cs prettyprint prettyprinted"><code><span class="pln"><br />
</span></code><span style="color:blue;">&nbsp; &lt;</span><span style="color:#a31515;">appSettings</span><span style="color:blue;">&gt;</span>
<span style="color:blue;">&nbsp;&nbsp;&nbsp; &lt;</span><span style="color:#a31515;">add</span><span style="color:blue;">&nbsp;</span><span style="color:red;">key</span><span style="color:blue;">=</span>"<span style="color:blue;">aspnet:MaxJsonDeserializerMembers</span>"<span style="color:blue;">&nbsp;</span><span style="color:red;">value</span><span style="color:blue;">=</span>"<span style="color:blue;">150000</span>"<span style="color:blue;">&nbsp;/&gt;</span><br />
</pre>
<p></p>
</article>
<ul class="seeAlso">
<li><a href="../../../2010/04/02/CovarianceAndContravarianceIn Net4In2Minutes.html">covariance and contravariance in .net 4 in 2 minutes</a> (02 Apr 2010)</li>
<li><a href="../../../2010/06/06/SmartPasteIn2010.html">Smart Paste in 2010</a> (06 Jun 2010)</li>
<li><a href="../../../2010/11/01/DatabaseSchemaReader.html">Database Schema Reader</a> (01 Nov 2010)</li>
<li><a href="../../../2011/04/07/PublishAndTransformInMsbuildScript.html">Publish and Transform in MSBuild script</a> (07 Apr 2011)</li>
<li><a href="../../../2011/04/09/DatabaseSchemaReaderNowWithExtraSqlite.html">Database Schema Reader now with extra SQLite</a> (09 Apr 2011)</li>
<li><a href="../../../2011/05/02/IldasmAndIlasmToSignAnUnsignedAssembly.html">ildasm and ilasm to sign an unsigned assembly</a> (02 May 2011)</li>
<li><a href="../../../2011/06/10/T4Preprocessing.html">T4 preprocessing</a> (10 Jun 2011)</li>
<li><a href="../../../2011/07/08/Net4 0Caching-NotJustForAsp.html">.Net 4.0 Caching - not just for Asp</a> (08 Jul 2011)</li>
<li><a href="../../../2011/12/10/MCPDWebDeveloper Net4.html">MCPD Web Developer .Net 4</a> (10 Dec 2011)</li>
<li><a href="../../../2012/02/05/EFCodeFirstManyToManyMapping.html">EF Code First Many to Many Mapping</a> (05 Feb 2012)</li>
<li><a href="../../../2012/02/14/EFCodeFirstTracing-LoggingTheSQL.html">EF Code First tracing - logging the SQL</a> (14 Feb 2012)</li>
<li><a href="../../../2012/02/22/EFCodeFirst-ReferencesVsValidation.html">EF Code First - references vs validation</a> (22 Feb 2012)</li>
<li><a href="../../../2013/05/31/WebapiUpdated30May2013.html">WebAPI updated 30 May 2013</a> (31 May 2013)</li>
<li><a href="../../../2014/03/07/FormsAuthenticationWithClaims.html">Forms Authentication with claims</a> (07 Mar 2014)</li>
<li><a href="../../../2014/07/23/NetVersioning.html">.Net Versioning</a> (23 Jul 2014)</li>
</ul>
<p>Previously: <a href="../../../2013/06/13/NugetVsJquery2.html">Nuget vs jQuery 2 </a> (13 Jun 2013)</p>
</div>
<div class="Footer">

</div>
</body>
</html>
