<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>ASP.Net Core</title>
<link rel="stylesheet" type="text/css" href="../../../style.css" />
<script type="text/javascript" src="../../../utilities.js">
</script>
</head>
<body>
<h1>static void</h1>
<div class="menu">
<ul>
<li><a href="../../../index.html">Main &gt;</a></li>
<li><a href="../../dotnet.html">.Net &gt;</a></li>
<li><a href="../aspdotnet.html">ASP.Net &gt;</a></li>
<li><a href="core.html">DotNet Core</a></li>
<li><a href="mvc.html">MVC</a></li>
<li><a href="project.html">Core Project</a></li>
<li><a href="startup.html">Startup</a></li>
<li><a href="config.html">Config Settings</a></li>
<li><a href="iis.html">IIS</a></li>
<li><a href="controllers.html">Controllers</a></li>
<li><a href="views.html">Views</a></li>
<li><a href="di.html">Dependency Injection</a></li>
<li><a href="security.html">Security</a></li>
<li><a href="logging.html">Logging</a></li>
<li><a href="localization.html">Localization</a></li>
</ul>
</div>
<div class="content">
<h2>Projects</h2>
<div class="alert">After Core RTM (June 2016), the project system will change from xproj/project.json to .csproj, probably with Visual Studio 2017. The concepts for Core RC2/RTM described here will change from json into msbuild xml.</div>
<ul>
<li>As of June 2016, most descriptions of project.json are out of date. The following one in docs should be updated (I hope)</li>
<li><a href="https://docs.microsoft.com/en-us/dotnet/articles/core/tools/project-json">Project.json reference</a></li>
</ul>

<h3>Project structure</h3>
<ul>
<li>Solution/<ul>
<li>.sln</li>
<li>global.json - lists folders containing projects (default: src and test)<br/>
{ "projects": [ "src", "test" ] }
</li>
<li>test\ <ul>
<li>Test Projects (or or more)</li>
</ul></li>
<li>src - source<ul>
<li>{Project}\ -NB: folder name==assembly name<ul>
<li>Controllers\</li>
<li>node_modules\</li>
<li>Properties\<ul>
<li>launchSettings.json - iis config, environment variables</li>
</ul></li>
<li>Views\</li>
<li>wwwroot\ - static files for deployment (gulp publishes here)<ul>
<li>css\ images/ js/ lib/ -gulp and bower publish here</li>
<li>web.config - tells IIS to launch dotnet</li>
</ul></li>
<li>gulpfile.js</li>
<li>package.json - npm to run bower/gulp</li>
<li>{project}.xproj - msbuild xml for Visual Studio. Not used by "dotnet" command.<br />
For Visual Studio 2017, this will change back to .csproj, and much of project.json will move into here</li>
<li>project.json - project settings and dependencies
<ul>
<li>Old ASP.Net had a {project}.csproj (msbuild xml) + packages.config (nuget dependencies) + .nuspec (nuget definition)</li>
<li>In RC1-RC2-RTM, the "project" information is split between a Project.xproj (xml for Visual Studio) and project.json (dependencies, most project stuff, nuspec)</li>
<li>For Visual Studio 2017 (probably), we will have:<ul>
<li>{project}.csproj - msbuild xml, most project settings</li>
<li>nuget.json (name to be confirmed)- nuget dependencies, basically packages.config again</li>
</ul></li>
</ul>
</li>
<li>Startup.cs - <a href="startup.html">startup file</a> (like global.asax)</li>
</ul></li>
</ul></li>
</ul></li>
</ul>


<h3>Publishing</h3>
<p>You can "Publish" from VS as before.</p>
<ul>
<li>The RC1 approot/wwwwroot structure has gone (it allowed the binaries to be completely outside the web path)</li>
<li>You publish to (default) /bin/Release/PublishOutputs/</li>
<li>Unlike classic asp.net, there is no "bin" folder- the dlls are toplevel, the static files ("wwwroot") are below.</li>
</ul>
<p>The structure (reverse alphabetic order, to explain it better):</p>
<ul>
<li>web.config (<a href="iis.html">See IIS description</a></li>
<li>*.dll. All dlls are top level</li>
<li>wwwroot\ - static files.</li>
<li>Views\ - standard view structure</li>
<li>runtimes\ - the native dll <strong>libuv.dll</strong> (used by Kestrel) for different environments (for Windows it's win7-x64) </li>
<li>refs\ - Not sure. They are .net 4.6 dlls (Microsoft.CSharp.dll, System.Console.dll etc).</li>
</ul>


</div>
<div class="Footer"></div>
</body>
</html>
